@isTest
global class MDM_SearchDunsHttpResponseGenerator implements HttpCalloutMock {
	
	public static Boolean bSearchById = true;
	
    // Implement this interface method
    global HTTPResponse respond(HTTPRequest req) {
        // Optionally, only send a mock response for a specific endpoint
        // and method. text/xml;charset=UTF-8
        //System.assertEquals('https://soagw-dmznonprod.ins.dell.com/AffinityService/AffinityService.svc/ws', req.getEndpoint());
        //System.assertEquals('POST', req.getMethod());
        
        //System.assertEquals('https://soagw-dmznonprod.ins.dell.com/SIT/CIL.SearchService.svc/secure',CILreq.getEndpoint());
        //System.assertEquals('POST', req.getMethod());
        
        // Create a fake response
        HttpResponse res = new HttpResponse();
        res.setHeader('content-type','application/xml');
        if(bSearchById) {
        	res.setBody('<s:Envelope xmlns:s="http://www.w3.org/2003/05/soap-envelope" xmlns:a="http://www.w3.org/2005/08/addressing"><s:Header><a:Action s:mustUnderstand="1">CIL/IExploreAffinity/SearchDunsResponse</a:Action><a:RelatesTo>urn:uuid:73c530ae-661a-4443-b7e7-87b670fd36bf</a:RelatesTo></s:Header><s:Body><SearchDunsResponse xmlns="CIL"><SearchDunsResult i:type="c:TxRemarks" xmlns:b="http://schemas.datacontract.org/2004/07/DELL.HT.BusinessModel.Common.Response" xmlns:i="http://www.w3.org/2001/XMLSchema-instance" xmlns:c="http://schemas.datacontract.org/2004/07/DELL.HT.BusinessModel.Common"><b:CommonSearchResponse><b:CommonSearchResponseBObj i:type="d:DunsDetailSearchResponseBObj" xmlns:d="http://schemas.datacontract.org/2004/07/DELL.HT.BusinessModel.Duns.Response"><d:Account><d:DunsAccountExtObj><d:AccountId>2095213961</d:AccountId><d:AccountName>us 03 Inc</d:AccountName></d:DunsAccountExtObj></d:Account><d:Address><d:Address1>26 Borgartun</d:Address1><d:Address2/><d:City>Reykjavik</d:City><d:CityCode/><d:ContinentCode>1</d:ContinentCode><d:ContinentCodeDup>1</d:ContinentCodeDup><d:Country>ALGERIA</d:Country><d:CountryCode>013</d:CountryCode><d:CountyCode>000</d:CountyCode><d:MailAddress>PO Box 8220</d:MailAddress><d:MailCityName>Reykjavik</d:MailCityName><d:MailCountryCode>013</d:MailCountryCode><d:MailCountryName>ALGERIA</d:MailCountryName><d:MailCountyCode>000</d:MailCountyCode><d:MailCountyName/><d:MailPostalCode>I S 128</d:MailPostalCode><d:MailStateAbbreviation/><d:MailStateCode>000</d:MailStateCode><d:MailStateName/><d:OwnsOrRentDetail/><d:PostalCode/><d:SquareFootage>000000000</d:SquareFootage><d:SquareFootageIndicator/><d:State/><d:StateAbbreviation/><d:StateCode>000</d:StateCode><d:TerritoryCoverage/><d:UndeliverableAddressIndicator/></d:Address><d:CRM><d:ActivityIndicator>000</d:ActivityIndicator><d:LineOfBusiness>Auto and home supply stores, nsk</d:LineOfBusiness><d:MarketableOrNonMarketable>N</d:MarketableOrNonMarketable><d:NationalId>4601692919</d:NationalId><d:NationalIdSystemCode>00555</d:NationalIdSystemCode><d:OOB>N</d:OOB><d:PrimaryLocalActivityCode/><d:SIC6Code/><d:US_1987_SIC1>5531</d:US_1987_SIC1><d:US_1987_SIC2>5013</d:US_1987_SIC2><d:US_1987_SIC3>5039</d:US_1987_SIC3><d:US_1987_SIC4/><d:US_1987_SIC5/><d:US_1987_SIC6/><d:UndeterminedSICIndicator>N</d:UndeterminedSICIndicator></d:CRM><d:CompanyDetail><d:numberofPcs/><d:aggregatednumberofpcsultimate/><d:AnnualSales>939000000</d:AnnualSales><d:AnnualSalesIndicator>2</d:AnnualSalesIndicator><d:AnnualSalesUSDollar>12958200</d:AnnualSalesUSDollar><d:BaseYearEmployees>0</d:BaseYearEmployees><d:BaseYearSales>0</d:BaseYearSales><d:BlueCollarEstimator/><d:CurrencyCode>0420</d:CurrencyCode><d:EmployeeSize>90</d:EmployeeSize><d:EmployeesHere>90</d:EmployeesHere><d:EmployeesHereIndicator>2</d:EmployeesHereIndicator><d:EmployeesTotalIndicator>0</d:EmployeesTotalIndicator><d:MarketingFileDelistIndicator>N</d:MarketingFileDelistIndicator><d:NumberOfAccounts>000000000</d:NumberOfAccounts><d:PercentGrowthEmployeesSign>+</d:PercentGrowthEmployeesSign><d:PercentGrowthSalesSign>+</d:PercentGrowthSalesSign><d:PricipalsIncludedIndicator>N</d:PricipalsIncludedIndicator><d:PublicOrprivateIndicator/><d:WhiteCollarEstimator/><d:YearStarted>1999</d:YearStarted></d:CompanyDetail><d:Contact><d:CEOName>Bjarni Benediktsson</d:CEOName><d:CEOTitle>Chairman</d:CEOTitle><d:EighthExecutiveName>Stefan Afrni Einarsson</d:EighthExecutiveName><d:EighthExecutiveNameMrc>Z799</d:EighthExecutiveNameMrc><d:EighthExecutiveTitle>Manager</d:EighthExecutiveTitle><d:FifthExecutiveName>Agnar Hjartar</d:FifthExecutiveName><d:FifthExecutiveNameMrc>G7O6</d:FifthExecutiveNameMrc><d:FifthExecutiveTitle>Purchasing Manager</d:FifthExecutiveTitle><d:FirstExecutiveName>Hinrik Morthens</d:FirstExecutiveName><d:FirstExecutiveNameMrc>Z699</d:FirstExecutiveNameMrc><d:FirstExecutiveTitle>Director</d:FirstExecutiveTitle><d:FourthExecutiveName>Ivar Gudjonsson</d:FourthExecutiveName><d:FourthExecutiveNameMrc>Z699</d:FourthExecutiveNameMrc><d:FourthExecutiveTitle>Director</d:FourthExecutiveTitle><d:SecondExecutiveName>Egill Tryggvason</d:SecondExecutiveName><d:SecondExecutiveNameMrc>Z699</d:SecondExecutiveNameMrc><d:SecondExecutiveTitle>Director</d:SecondExecutiveTitle><d:SeventhExecutiveName>Bjarni Jonsson</d:SeventhExecutiveName><d:SeventhExecutiveNameMrc>I7P1</d:SeventhExecutiveNameMrc><d:SeventhExecutiveTitle>Sales Manager</d:SeventhExecutiveTitle><d:SixthExecutiveName>Hrefna Bragadottir</d:SixthExecutiveName><d:SixthExecutiveNameMrc>Z799</d:SixthExecutiveNameMrc><d:SixthExecutiveTitle>Manager</d:SixthExecutiveTitle><d:ThirdExecutiveName>Hermann Saevar Gudmundsson</d:ThirdExecutiveName><d:ThirdExecutiveNameMrc>Z699</d:ThirdExecutiveNameMrc><d:ThirdExecutiveTitle>Director</d:ThirdExecutiveTitle><d:TotalNumberOfAdditionalContactNames>8</d:TotalNumberOfAdditionalContactNames></d:Contact><d:Parent><d:NoOfFamilyMembersGlobal>567</d:NoOfFamilyMembersGlobal><d:DomesticUltimateAddress/><d:DomesticUltimateDuns>abc</d:DomesticUltimateDuns><d:DomesticUltimateCityCode/><d:DomesticUltimateCityName/><d:DomesticUltimateCountryCode>000</d:DomesticUltimateCountryCode><d:DomesticUltimateName/><d:DomesticUltimatePostalCode/><d:DomesticUltimateState/><d:DomesticUltimateStateAbbreviation/><d:GlobalUltimateAddress/><d:globalUltimateDuns/><d:GlobalUltimateCityCode/><d:GlobalUltimateCityName/><d:GlobalUltimateContinentCode/><d:GlobalUltimateCountryCode>000</d:GlobalUltimateCountryCode><d:GlobalUltimateCountryName/><d:GlobalUltimateCountyCode>000</d:GlobalUltimateCountyCode><d:GlobalUltimateName/><d:GlobalUltimatePostalCode/><d:GlobalUltimateState/><d:GlobalUltimateStateAbbreviation/><d:GlobalUltimatedIndicator>N</d:GlobalUltimatedIndicator><d:HQParentAddress/><d:HQParentCityCode/><d:HQParentCityName/><d:HQParentContinentCode/><d:HQParentCountryCode>000</d:HQParentCountryCode><d:HQParentCountryName/><d:HQParentCountyCode>000</d:HQParentCountyCode><d:HQParentDuns>236789</d:HQParentDuns><d:HQParentName/><d:HQParentPostalCode/><d:HQParentStateAbbreviation/><d:HQParentStateProvince/><d:HierarchyCode/></d:Parent><d:Misc><d:BusinessTradeName>Intersport</d:BusinessTradeName><d:CottageFileIndicator/><d:DiasCode/><d:DomesticUltimateTotalEmployees>000000200</d:DomesticUltimateTotalEmployees><d:Filler1/><d:Filler2/><d:Filler3/><d:FranchiseCodeIndicator/><d:FranchiseFileCode1/><d:FranchiseFileCode2/><d:FranchiseFileCode3/><d:FranchiseFileCode4/><d:FranchiseFileCode5/><d:FranchiseFileCode6/><d:ImportExportCode>B</d:ImportExportCode><d:LegalStatus>003</d:LegalStatus><d:MSA/><d:RecordClassType/><d:SiteBroadbandDemandScore/><d:StatusCode>0</d:StatusCode><d:SubsidiaryIndicator>0</d:SubsidiaryIndicator></d:Misc><d:Primary><d:PreviousDuns>123</d:PreviousDuns><d:BusinessName>Intersport</d:BusinessName><d:DunsId>360303150</d:DunsId><d:EmployeeSize>90</d:EmployeeSize><d:RegisteredAddressIndicator>N</d:RegisteredAddressIndicator><d:TradestyleName/><d:Phone><d:CableOrTelex/><d:CountryAccessCode>0001</d:CountryAccessCode><d:FaxNumber>21234567</d:FaxNumber><d:TelephoneNumber>21234567</d:TelephoneNumber></d:Phone></d:Primary></b:CommonSearchResponseBObj></b:CommonSearchResponse><c:Requester>Authenticated User</c:Requester><c:TxStatusCode>SUCCESS</c:TxStatusCode></SearchDunsResult></SearchDunsResponse></s:Body></s:Envelope>');
        }
        else {
        	res.setBody('<?xml version="1.0" encoding="UTF-8"?>'
							+ '<s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/">'
							+ '<s:Header>'
							+ 'X-OPNET-Transaction-Trace xmlns="http://opnet.com">7f6f0c7c-024e-43c1-bae4-e12687348be1-6652-129</X-OPNET-Transaction-Trace>'
							+ '/s:Header>'
							+ 's:Body>'
							+ 'SearchDnBOrganizationResponse xmlns="http://tempuri.org/">'
							+ 'SearchDnBOrganizationResult xmlns:i="http://www.w3.org/2001/XMLSchema-instance" xmlns:a="http://schemas.datacontract.org/2004/07/CustomerMDM.DataContracts.Messages">'
							+ 'a:ResponseControl xmlns:b="http://schemas.datacontract.org/2004/07/CustomerMDM.DataContracts.Utility">'
							+ 'b:DwlControl>'
							+ 'b:RequesterName>CIL 1.0</b:RequesterName>'
							+ 'b:Requesterlanguage>100</b:Requesterlanguage>'
							+ '<b:RequesterLocale>en</b:RequesterLocale>'
							+ '<b:PageStartIndex>1</b:PageStartIndex>'
							+ '<b:PageEndIndex>100</b:PageEndIndex>'
							+ '<b:ReturnAvailableResultCount>true</b:ReturnAvailableResultCount>'
							+ '<b:RequestID>20150305012620596</b:RequestID>'
							+ '<b:AvailableResultsCount>100</b:AvailableResultsCount>'
							+ '</b:DwlControl>'
							+ '<b:ResultCode>SUCCESS</b:ResultCode>'
							+ '<b:ServiceTime>127</b:ServiceTime>'
							+ '</a:ResponseControl>'
							+ '<a:OrganizationList xmlns:b="http://schemas.datacontract.org/2004/07/CustomerMDM.DataContracts.OrganizationEntities">'
							+ '<b:SearchOrganizationResult>'
							+ '<b:Party xmlns:c="http://schemas.datacontract.org/2004/07/CustomerMDM.DataContracts.PartyEntities">'
							+ '<c:Party>'
							+ '<c:Organization>'
							+ '<b:Organization>'
							+ '<b:OrganizationName>'
							+ '<b:OrganizationName>'
							+ '<b:Name>EUROPEX</b:Name>'
							+ '</b:OrganizationName>'
							+ '</b:OrganizationName>'
							+ '<b:OrganizationExtension>'
							+ '<b:DunsNumber>265368981</b:DunsNumber>'
							+ '<b:PreviousDunsNumber>0</b:PreviousDunsNumber>'
							+ '<b:HqDuns>0</b:HqDuns>'
							+ '<b:HqCountyCode>000</b:HqCountyCode>'
							+ '<b:HqCountryCode>000</b:HqCountryCode>'
							+ '<b:DomsUltDunsNum>0</b:DomsUltDunsNum>'
							+ '<b:DomsUltCountryCode>000</b:DomsUltCountryCode>'
							+ '<b:GlobalUltIndi>N</b:GlobalUltIndi>'
							+ '<b:UtlCompanyCountryCode>000</b:UtlCompanyCountryCode>'
							+ '<b:UtlCompanyCountyCode>000</b:UtlCompanyCountyCode>'
							+ '<b:CorporateParentDuns>0</b:CorporateParentDuns>'
							+ '<b:AnnualSales>67000</b:AnnualSales>'
							+ '<b:AnnualSalesIndicator>3</b:AnnualSalesIndicator>'
							+ '<b:AnnualSalesUS>89546</b:AnnualSalesUS>'
							+ '<b:CurrencyCode>5080</b:CurrencyCode>'
							+ '<b:EmployeesHere>1</b:EmployeesHere>'
							+ '<b:EmployeesHereIndi>2</b:EmployeesHereIndi>'
							+ '<b:EmployeesTotal>1</b:EmployeesTotal>'
							+ '<b:EmployeesTotalIndi>3</b:EmployeesTotalIndi>'
							+ '<b:PrincipalsIncludedIndi>N</b:PrincipalsIncludedIndi>'
							+ '<b:MarketingFileDelistIndi>N</b:MarketingFileDelistIndi>'
							+ '<b:NumberOfAccounts>000000000</b:NumberOfAccounts>'
							+ '<b:NumberOfPC>0</b:NumberOfPC>'
							+ '<b:UltAggregatedNumberOfPC>0</b:UltAggregatedNumberOfPC>'
							+ '<b:PercentGrowthSales>0</b:PercentGrowthSales>'
							+ '<b:PercentGrowthSalesSign>+</b:PercentGrowthSalesSign>'
							+ '<b:PercentGrowthEmployees>0</b:PercentGrowthEmployees>'
							+ '<b:PercentGrowthEmployeesSign>+</b:PercentGrowthEmployeesSign>'
							+ '<b:BaseYearSales>0</b:BaseYearSales>'
							+ '<b:BaseYearEmployees>0</b:BaseYearEmployees>'
							+ '<b:TrendYearSales>0</b:TrendYearSales>'
							+ '<b:TrendYearEmployees>0</b:TrendYearEmployees>'
							+ '<b:YearStarted>2013</b:YearStarted>'
							+ '<b:CeoTitle>Managing Partner</b:CeoTitle>'
							+ '<b:CeoName>JOAQUIM SILVA ROCHA</b:CeoName>'
							+ '<b:NumberOfAddiContactNames>0</b:NumberOfAddiContactNames>'
							+ '<b:NationalIdSystemCode>00017</b:NationalIdSystemCode>'
							+ '<b:UsSic1>5039</b:UsSic1>'
							+ '<b:PrimaryLocalActivityCode>4673A</b:PrimaryLocalActivityCode>'
							+ '<b:ActivityIndicator>015</b:ActivityIndicator>'
							+ '<b:NationalId>79489521900028</b:NationalId>'
							+ '<b:MarketableNonmarketable>M</b:MarketableNonmarketable>'
							+ '<b:OutOfBusinessIndi>N</b:OutOfBusinessIndi>'
							+ '<b:UndeterminedSicIndi>N</b:UndeterminedSicIndi>'
							+ '<b:LineOfBusiness>Construction materials, nec, nsk</b:LineOfBusiness>'
							+ '<b:LegalStatus>003</b:LegalStatus>'
							+ '<b:StatusCode>0</b:StatusCode>'
							+ '<b:SubsidiaryIndicator>0</b:SubsidiaryIndicator>'
							+ '<b:ImportExportCode>G</b:ImportExportCode>'
							+ '<b:DomsUltTotalEmployees>000000001</b:DomsUltTotalEmployees>'
							+ '</b:OrganizationExtension>'
							+ '</b:Organization>'
							+ '</c:Organization>'
							+ '<c:PartyAddress>'
							+ '<c:PartyAddress>'
							+ '<c:Address>'
							+ '<c:Address>'
							+ '<c:AddressLineOne>4 RUE DE SALONIQUE</c:AddressLineOne>'
							+ '<c:City>Argenteuil</c:City>'
							+ '<c:CountryValue>241</c:CountryValue>'
							+ '<c:CountyCode>000</c:CountyCode>'
							+ '<c:ProvinceStateValue>095</c:ProvinceStateValue>'
							+ '<c:ZipPostalCode>95100</c:ZipPostalCode>'
							+ '<c:Region>VAL D OISE</c:Region>'
							+ '<c:AddressExtension>'
							+ '<c:AddressExtension>'
							+ '<c:ContinentCode>3</c:ContinentCode>'
							+ '<c:SquareFootage>000000000</c:SquareFootage>'
							+ '<c:RegisteredAddressInd>N</c:RegisteredAddressInd>'
							+ '</c:AddressExtension>'
							+ '</c:AddressExtension>'
							+ '</c:Address>'
							+ '</c:Address>'
							+ '</c:PartyAddress>'
							+ '</c:PartyAddress>'
							+ '<c:PartyContactMethod>'
							+ '<c:PartyContactMethod>'
							+ '<c:ContactMethodUsageType>Telex</c:ContactMethodUsageType>'
							+ '<c:ContactMethod>'
							+ '<c:ContactMethod>'
							+ '<c:PhoneNumber>'
							+ '<c:PhoneNumber>'
							+ '<c:CountryCode>0000</c:CountryCode>'
							+ '<c:Number> 11</c:Number>'
							+ '</c:PhoneNumber>'
							+ '</c:PhoneNumber>'
							+ '</c:ContactMethod>'
							+ '</c:ContactMethod>'
							+ '</c:PartyContactMethod>'
							+ '</c:PartyContactMethod>'
							+ '<c:PartyDemographics>'
							+ '<c:PartyDemographics/>'
							+ '</c:PartyDemographics>'
							+ '</c:Party>'
							+ '</b:Party>'
							+ '</b:SearchOrganizationResult>'
							+ '</a:OrganizationList>'
							+ '<a:TxtResultObj xmlns:b="http://schemas.datacontract.org/2004/07/CustomerMDM.DataContracts.Utility">'
							+ '<b:ResultCode>SUCCESS</b:ResultCode>'
							+ '</a:TxtResultObj>'
							+ '</SearchDnBOrganizationResult>'
							+ '</SearchDnBOrganizationResponse>'
							+ '</s:Body>'
							+ '</s:Envelope>');
        }
        res.setStatusCode(200);
        res.setStatus('OK');
        return res;
    }
    
}